(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{383:function(t,e,a){"use strict";a.r(e);var n=a(867),r=a(543);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);a(868);var s=a(16),o=Object(s.a)(r.default,n.render,n.staticRenderFns,!1,null,"3e135d5e",null);e.default=o.exports},543:function(t,e,a){"use strict";a.r(e);var n=a(544),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=r.a},544:function(t,e,a){"use strict";(function(t,a,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{name:null,array1:[],array2:[],array3:[],opened:!1,loading:!1,table:{pagination:{page:1,size:5,total:0},datas:[]},tab:1,selects:[{title:"选择题",key:1},{title:"填空题",key:2},{title:"问答题",key:3}]}},created:function(){var e=this;this.$route.params.id&&t.get("/paper/read",{id:this.$route.params.id}).then((function(t){t.ok&&(e.name=t.body.name,t.body.array.forEach((function(t){switch(t.type){case 1:e.array1.push(t);break;case 2:e.array2.push(t);break;case 3:e.array3.push(t)}})))})),this.init()},methods:{init:function(){var e=this;t.get("/quest/page",{page:this.table.pagination.page-1,size:3,type:this.tab}).then((function(t){t.ok&&e.setTable(t.body)}))},setTable:function(t){t.content.forEach((function(t){t.hover=!1})),this.table.datas=t.content,this.table.pagination.total=t.totalElements},save:function(){var e=this;this.name&&0!=this.name.length?n.confirm(this,"确定提交该试卷 ？",(function(n){e.loading=!0,n.close();var r=[],i=function(t){r.push(t.id)};e.array1.forEach(i),e.array2.forEach(i),e.array3.forEach(i),e.$route.params.id?t.post("/paper/update",{id:e.$route.params.id,name:e.name,content:r.join()}).then((function(t){e.loading=!1,t.ok&&(a.$Message.success("提交成功"),e.reset())})):t.post("/paper/create",{name:e.name,content:r.join()}).then((function(t){e.loading=!1,t.ok&&(a.$Message.success("提交成功"),e.reset())}))})):a.$Message.error("请填写名称")},remove:function(t){var e=function(e){return e.id==t.id},a=this.array1.findIndex(e);a>=0&&this.array1.splice(a,1);var n=this.array2.findIndex(e);n>=0&&this.array2.splice(n,1);var r=this.array3.findIndex(e);r>=0&&this.array3.splice(r,1)},click:function(t){switch(this.tab){case 1:this.array1.push(t);break;case 2:this.array2.push(t);break;case 3:this.array3.push(t)}this.opened=!1},reset:function(){this.name=null,this.array1=[],this.array2=[],this.array3=[],this.opened=!1,this.$route.params.id=0}}};e.default=r}).call(this,a(153).default,a(69),a(107).default)},681:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.staticRenderFns=e.render=void 0;var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"frame-page"},[e("div",{staticClass:"h-panel page-header"},[e("div",{staticClass:"h-panel-body"},[e("Form",{ref:"form",attrs:{labelPosition:"left"}},[e("FormItem",{attrs:{label:"名称",required:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"输入试卷名称"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),e("FormItem",{attrs:{label:"选择题"}},t._l(t.array1,(function(a,n){return e("div",{key:"1"+n,staticClass:"item",on:{mouseover:function(t){a.hover=!0},mouseleave:function(t){a.hover=!1}}},[e("div",{staticClass:"html",domProps:{innerHTML:t._s(a.ask)}}),t._v(" "),a.hover?e("div",{staticClass:"btns"},[e("Button",{attrs:{"text-color":"primary",size:"xs","no-border":""},on:{click:function(e){return t.remove(a)}}},[t._v("删除")])],1):t._e()])})),0),t._v(" "),e("FormItem",{attrs:{label:"填空题"}},t._l(t.array2,(function(a,n){return e("div",{key:"2"+n,staticClass:"item",on:{mouseover:function(t){a.hover=!0},mouseleave:function(t){a.hover=!1}}},[e("div",{staticClass:"html",domProps:{innerHTML:t._s(a.ask)}}),t._v(" "),a.hover?e("div",{staticClass:"btns"},[e("Button",{attrs:{"text-color":"primary",size:"xs","no-border":""},on:{click:function(e){return t.remove(a)}}},[t._v("删除")])],1):t._e()])})),0),t._v(" "),e("FormItem",{attrs:{label:"问答题"}},t._l(t.array3,(function(a,n){return e("div",{key:"3"+n,staticClass:"item",on:{mouseover:function(t){a.hover=!0},mouseleave:function(t){a.hover=!1}}},[e("div",{staticClass:"html",domProps:{innerHTML:t._s(a.ask)}}),t._v(" "),a.hover?e("div",{staticClass:"btns"},[e("Button",{attrs:{"text-color":"primary",size:"xs","no-border":""},on:{click:function(e){return t.remove(a)}}},[t._v("删除")])],1):t._e()])})),0),t._v(" "),e("FormItem",[e("Button",{attrs:{color:"primary",circle:""},on:{click:function(e){t.opened=!0}}},[t._v("添加试题")]),t._v(" "),e("Button",{attrs:{color:"primary",circle:"",loading:t.loading},on:{click:t.save}},[t._v("保 存")]),t._v(" "),e("Button",{attrs:{circle:""},on:{click:function(e){t.opened=!1}}},[t._v("取 消")])],1)],1)],1)]),t._v(" "),e("Modal",{attrs:{type:"drawer-right"},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[e("div",{staticClass:"model-right"},[e("div",{staticClass:"title"},[t._v("选择试题")]),t._v(" "),e("Tabs",{attrs:{datas:t.selects},on:{change:t.init},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}}),t._v(" "),t._l(t.table.datas,(function(a,n){return e("div",{key:n,staticClass:"item",on:{mouseover:function(t){a.hover=!0},mouseleave:function(t){a.hover=!1}}},[e("div",{staticClass:"html",domProps:{innerHTML:t._s(a.ask)},on:{click:function(e){return t.click(a)}}})])})),t._v(" "),e("br"),e("br"),t._v(" "),e("Pagination",{attrs:{align:"center",layout:"pager"},on:{change:t.init},model:{value:t.table.pagination,callback:function(e){t.$set(t.table,"pagination",e)},expression:"table.pagination"}})],2)])],1)};e.render=n;e.staticRenderFns=[],n._withStripped=!0},682:function(t,e,a){},867:function(t,e,a){"use strict";var n=a(681);a.o(n,"render")&&a.d(e,"render",(function(){return n.render})),a.o(n,"staticRenderFns")&&a.d(e,"staticRenderFns",(function(){return n.staticRenderFns}))},868:function(t,e,a){"use strict";a(682)}}]);