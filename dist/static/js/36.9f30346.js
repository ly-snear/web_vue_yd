(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{382:function(e,t,n){"use strict";n.r(t);var o=n(865),a=n(541);for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n(866);var r=n(16),i=Object(r.a)(a.default,o.render,o.staticRenderFns,!1,null,"19cc0824",null);t.default=i.exports},541:function(e,t,n){"use strict";n.r(t);var o=n(542),a=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t.default=a.a},542:function(e,t,n){"use strict";(function(e,n,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{table:{pagination:{page:1,size:3,total:0},datas:[]},opened:!1,loading:!1,tab:1,form:{},selects:[{title:"选择题",key:1},{title:"填空题",key:2},{title:"问答题",key:3}]}},created:function(){this.init()},methods:{init:function(){var t=this;e.get("/quest/page",{page:this.table.pagination.page-1,size:this.table.pagination.size,type:this.tab}).then((function(e){e.ok&&t.setTable(e.body)}))},setTable:function(e){e.content.forEach((function(e){e.hover=!1})),this.table.datas=e.content,this.table.pagination.total=e.totalElements},open:function(){this.form={id:0},this.opened=!0},save:function(){var t=this;this.form.ask&&0!=this.form.ask.length&&this.form.answer&&0!=this.form.answer.length?this.form.ask.length>65e3||this.form.answer.length>65e3?n.$Message.error("长度超限，是否图片文件太大"):this.form.id||this.form.type?o.confirm(this,"确定提交该题目 ？",(function(o){t.loading=!0,o.close(),t.form.id>0?e.post("/quest/update",{id:t.form.id,ask:t.form.ask,answer:t.form.answer,score:t.form.score}).then((function(e){t.loading=!1,e.ok&&(n.$Message.success("提交成功"),t.opened=!1,t.init())})):e.post("/quest/create",{type:t.form.type,ask:t.form.ask,answer:t.form.answer,score:t.form.score}).then((function(e){t.loading=!1,e.ok&&(n.$Message.success("提交成功"),t.opened=!1,t.init())}))})):n.$Message.error("请选择类型"):n.$Message.error("请填写所有内容")},update:function(e){this.form=o.copy(e),this.opened=!0},remove:function(t){var a=this;o.confirm(this,"确定删除该记录 ？",(function(o){a.loading=!0,o.close(),e.post("/quest/delete",{id:t.id}).then((function(e){a.loading=!1,e.ok&&(n.$Message.success("删除成功"),a.init())}))}))}}};t.default=a}).call(this,n(153).default,n(69),n(107).default)},679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"frame-page"},[t("div",{staticClass:"h-panel page-header"},[t("div",{staticClass:"h-panel-body"},[t("Tabs",{attrs:{datas:e.selects},on:{change:e.init},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}}),e._v(" "),t("Button",{staticClass:"create",attrs:{color:"primary",circle:"",size:"l"},on:{click:e.open}},[e._v("添加试题")]),e._v(" "),e._l(e.table.datas,(function(n,o){return t("div",{key:o,staticClass:"item",on:{mouseover:function(e){n.hover=!0},mouseleave:function(e){n.hover=!1}}},[t("div",{staticClass:"html",domProps:{innerHTML:e._s(n.ask)}}),e._v(" "),n.hover?t("div",{staticClass:"btns"},[t("Button",{attrs:{"text-color":"primary",size:"xs","no-border":""},on:{click:function(t){return e.update(n)}}},[e._v("修改")]),e._v(" "),t("Button",{attrs:{"text-color":"primary",size:"xs","no-border":""},on:{click:function(t){return e.remove(n)}}},[e._v("删除")])],1):e._e()])})),e._v(" "),t("br"),t("br"),e._v(" "),t("Pagination",{attrs:{align:"center",layout:"pager"},on:{change:e.init},model:{value:e.table.pagination,callback:function(t){e.$set(e.table,"pagination",t)},expression:"table.pagination"}})],2)]),e._v(" "),t("Modal",{attrs:{type:"drawer-right"},model:{value:e.opened,callback:function(t){e.opened=t},expression:"opened"}},[t("div",{staticClass:"model-right"},[t("div",{staticClass:"title"},[e._v("添加/修改试题")]),e._v(" "),t("Form",{ref:"form",attrs:{labelPosition:"left"}},[t("FormItem",{attrs:{label:"类型"}},[t("Radio",{attrs:{datas:e.selects,disabled:e.form.id>0},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),e._v(" "),t("FormItem",{attrs:{label:"题目"}},[t("RichTextEditor",{attrs:{cache:!1},model:{value:e.form.ask,callback:function(t){e.$set(e.form,"ask",t)},expression:"form.ask"}})],1),e._v(" "),t("FormItem",{attrs:{label:"答案"}},[t("RichTextEditor",{attrs:{cache:!1},model:{value:e.form.answer,callback:function(t){e.$set(e.form,"answer",t)},expression:"form.answer"}})],1),e._v(" "),t("FormItem",{attrs:{label:"分值"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.score,expression:"form.score"}],attrs:{type:"number",placeholder:"输入分值"},domProps:{value:e.form.score},on:{input:function(t){t.target.composing||e.$set(e.form,"score",t.target.value)}}})]),e._v(" "),t("FormItem",[t("Button",{attrs:{color:"primary",circle:"",loading:e.loading},on:{click:e.save}},[e._v("保 存")]),e._v(" "),t("Button",{attrs:{circle:""},on:{click:function(t){e.opened=!1}}},[e._v("取 消")])],1)],1)],1)])],1)};t.render=o;t.staticRenderFns=[],o._withStripped=!0},680:function(e,t,n){},865:function(e,t,n){"use strict";var o=n(679);n.o(o,"render")&&n.d(t,"render",(function(){return o.render})),n.o(o,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return o.staticRenderFns}))},866:function(e,t,n){"use strict";n(680)}}]);