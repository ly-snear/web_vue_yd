(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{378:function(t,a,e){"use strict";e.r(a);var s=e(858),i=e(533);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(r);e(859);var n=e(16),l=Object(n.a)(i.default,s.render,s.staticRenderFns,!1,null,"40c32281",null);a.default=l.exports},533:function(t,a,e){"use strict";e.r(a);var s=e(534),i=e.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return s[t]}))}(r);a.default=i.a},534:function(t,a,e){"use strict";(function(t,e){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s={data:function(){return{year:{selects:[],now:0},step:{selects:[],now:0},clss:{selects:[],now:0},chart1:{tooltip:{show:!0,trigger:"item"},grid:{x:30,y:50,x2:30,y2:30},legend:{data:["学生数","提交数"],orient:"horizontal",left:"right",icon:"roundRect",itemWidth:36,itemHeight:3},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],name:"学生数",type:"bar",barWidth:10,itemStyle:{normal:{color:"#ffae00",barBorderRadius:[4,4,0,0]}}},{data:[],name:"提交数",type:"line",smooth:!0,itemStyle:{normal:{color:"#13ce66",lineStyle:{width:4}}}}]},chart2:{tooltip:{show:!0,trigger:"item"},grid:{x:30,y:50,x2:30,y2:30},legend:{data:["平均分","总平均"],orient:"horizontal",left:"right",icon:"roundRect",itemWidth:36,itemHeight:3},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],name:"平均分",type:"bar",barWidth:10,itemStyle:{normal:{color:"#ffae00",barBorderRadius:[4,4,0,0]}}},{data:[],name:"总平均",type:"line",smooth:!0,itemStyle:{normal:{color:"#13ce66",lineStyle:{width:4}}}}]},chart3:{tooltip:{show:!0,trigger:"item"},grid:{x:30,y:50,x2:30,y2:30},legend:{data:["最低分","最高分"],orient:"horizontal",left:"right",icon:"roundRect",itemWidth:36,itemHeight:3},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{data:[],name:"最低分",type:"bar",barWidth:10,itemStyle:{normal:{color:"#3b91ff",barBorderRadius:[4,4,0,0]}}},{data:[],name:"最高分",type:"bar",barWidth:10,itemStyle:{normal:{color:"#13ce66",barBorderRadius:[4,4,0,0]}}}]},opt1:{},opt2:{},opt3:{},at:{classwork:[]}}},created:function(){this.year=t.getYear(),this.step=t.getStep(),this.clss=t.getClss(this.year.now),this.init()},methods:{init:function(){var t=this;0==this.clss.now&&this.clss.selects.length>0&&(this.clss.now=this.clss.selects[0].key),e.get("/stu/work/stat",{semester:this.step.now,idYear:this.year.now}).then((function(a){a.ok&&t.setChart(a.body)}))},setChart:function(a){var e=this,s=[],i={data0:[],data1:[]},r={data0:[],data1:[]},n={data0:[],data1:[]},l=0;a.forEach((function(a){s.push(a.name),i.data0.push(a.classwork[1]),i.data1.push(a.classwork[2]),a.percent=a.classwork[2]>0?t.getNumber(100*a.classwork[2]/(a.classwork[0]*a.classwork[1])):0,a.average=a.classwork[5]>0?t.getNumber(a.classwork[5]/a.classwork[2]):0,r.data0.push(a.average),l+=a.average,n.data0.push(a.classwork[3]),n.data1.push(a.classwork[4])})),a.forEach((function(t){r.data1.push(l/a.length),t.index=1,t.count=a.length,a.forEach((function(a){t.id!=a.id&&a.average>t.average&&t.index++})),t.id==e.clss.now&&(e.at=t)}));var o=t.copy(this.chart1),c=t.copy(this.chart2),d=t.copy(this.chart3);o.xAxis.data=s,o.series[0].data=i.data0,o.series[1].data=i.data1,c.xAxis.data=s,c.series[0].data=r.data0,c.series[1].data=r.data1,d.xAxis.data=s,d.series[0].data=n.data0,d.series[1].data=n.data1,this.opt1=o,this.opt2=c,this.opt3=d},changeYear:function(){this.step.now=0,this.clss.now=0},changeTerm:function(){this.clss.now=0}}};a.default=s}).call(this,e(107).default,e(153).default)},672:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.staticRenderFns=a.render=void 0;var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"frame-page"},[a("div",{staticClass:"h-panel page-header"},[a("div",{staticClass:"h-panel-body"},[a("Row",{attrs:{space:20}},[a("Cell",{attrs:{width:4}},[a("Select",{attrs:{datas:t.year.selects,deletable:!1},on:{change:t.changeYear},model:{value:t.year.now,callback:function(a){t.$set(t.year,"now",a)},expression:"year.now"}})],1),t._v(" "),a("Cell",{attrs:{width:4}},[a("Select",{attrs:{datas:t.step.selects,placeholder:"选择学期"},on:{change:t.changeTerm},model:{value:t.step.now,callback:function(a){t.$set(t.step,"now",a)},expression:"step.now"}})],1),t._v(" "),a("Cell",{attrs:{width:4}},[a("Select",{attrs:{datas:t.clss.selects,placeholder:"选择班级"},on:{change:t.init},model:{value:t.clss.now,callback:function(a){t.$set(t.clss,"now",a)},expression:"clss.now"}})],1),t._v(" "),a("Cell",{attrs:{width:4}},[a("Button",{attrs:{color:"primary",circle:"",size:"l",disabled:!(t.year.now>0&&t.step.now>0)},on:{click:t.init}},[t._v("搜索")])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"h-panel page-header"},[a("div",{staticClass:"h-panel-body"},[a("br"),t._v(" "),a("Row",{attrs:{"space-x":30,type:"flex",justify:"center"}},[a("Cell",{staticClass:"item",attrs:{width:2}},[a("div",{staticClass:"value"},[t._v(t._s(t.at.classwork[0]))]),t._v(" "),a("div",{staticClass:"name"},[t._v("作业次数")])]),t._v(" "),a("Cell",{staticClass:"item",attrs:{width:2}},[a("div",{staticClass:"value"},[t._v(t._s(t.at.percent)+" %")]),t._v(" "),a("div",{staticClass:"name"},[t._v("提交率")])]),t._v(" "),a("Cell",{staticClass:"item",attrs:{width:2}},[a("div",{staticClass:"value"},[t._v(t._s(t.at.average))]),t._v(" "),a("div",{staticClass:"name"},[t._v("平均分")])]),t._v(" "),a("Cell",{staticClass:"item",attrs:{width:2}},[a("div",{staticClass:"value"},[t._v(t._s(t.at.classwork[3]))]),t._v(" "),a("div",{staticClass:"name"},[t._v("最低分")])]),t._v(" "),a("Cell",{staticClass:"item",attrs:{width:2}},[a("div",{staticClass:"value"},[t._v(t._s(t.at.classwork[4]))]),t._v(" "),a("div",{staticClass:"name"},[t._v("最高分")])]),t._v(" "),a("Cell",{staticClass:"item",attrs:{width:2}},[a("div",{staticClass:"value"},[t._v(t._s(t.at.index)+" / "+t._s(t.at.count))]),t._v(" "),a("div",{staticClass:"name"},[t._v("班级排名")])])],1),t._v(" "),a("br"),a("br"),a("br"),t._v(" "),a("Row",{attrs:{type:"flex",justify:"space-around"}},[a("Cell",{attrs:{width:7}},[a("Chart",{attrs:{initOptions:t.chart1,options:t.opt1}})],1),t._v(" "),a("Cell",{attrs:{width:7}},[a("Chart",{attrs:{initOptions:t.chart2,options:t.opt2}})],1),t._v(" "),a("Cell",{attrs:{width:7}},[a("Chart",{attrs:{initOptions:t.chart3,options:t.opt3}})],1)],1),t._v(" "),a("br"),a("br")],1)])])};a.render=s;a.staticRenderFns=[],s._withStripped=!0},673:function(t,a,e){},858:function(t,a,e){"use strict";var s=e(672);e.o(s,"render")&&e.d(a,"render",(function(){return s.render})),e.o(s,"staticRenderFns")&&e.d(a,"staticRenderFns",(function(){return s.staticRenderFns}))},859:function(t,a,e){"use strict";e(673)}}]);